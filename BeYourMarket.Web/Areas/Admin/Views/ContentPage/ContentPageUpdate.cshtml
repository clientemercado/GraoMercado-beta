@model BeYourMarket.Model.Models.ContentPage

@{
    ViewBag.Title = "[[[Atualização pág. Conteúdo]]]";
}

@section Styles {
    <script src="~/Scripts/ckeditor/styles.js"></script>
}

<div class="wraper container-fluid">

    <div class="row">
        <div class="col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h3 class="panel-title">[[[Atualização pág. Conteúdo]]]</h3></div>
                <div class="panel-body">
                    <form action="@Url.Action("ContentPageUpdate", "ContentPage")" id="form0" method="post" class="form-horizontal" role="form">
                        @Html.ValidationSummary(true, string.Empty, new { @class = "alert alert-danger" })
                        @Html.Partial("_UserMessage")

                        <div class="form-group">
                            <label class="col-sm-2 control-label">ID</label>
                            <div class="col-sm-10">
                                <p class="form-control-static">@Model.ID</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label">[[[Título]]]</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="Title" name="Title" value="@Model.Title" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label">[[[Descrição]]]</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="Description" name="Description" value="@Model.Description">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label">[[[Palavra chave]]]</label>
                            <div class="col-md-10">
                                <input type="text" class="form-control" id="Slug" name="Slug" value="@Model.Slug" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label">[[[Ordering]]]</label>
                            <div class="col-md-10">
                                <input type="number" class="form-control" id="Ordering" name="Ordering" value="@Model.Ordering" min="0" required>
                            </div>
                        </div>                        

                        <div class="form-group">
                            <div class="col-md-offset-2 col-md-10">
                                <label class="cr-styled">
                                    <input id="Published" name="Published" type="checkbox" value="true" checked="@Model.Published">
                                    <i class="fa"></i>
                                    [[[Publicada]]]
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label">Html</label>
                            <div class="col-md-10">                                
                                <textarea class="ckeditor" id="Html" name="Html" rows="10" required>@Model.Html</textarea>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-lg-offset-2 col-lg-10">
                                <button class="btn btn-primary" type="submit"><i class="fa fa-save"></i> [[[Salvar]]]</button>
                                <a href="@Url.Action("Categories", "Listing")" class="btn btn-default"><i class="fa fa-remove"></i> [[[Cancelar]]]</a>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Scripts/ckeditor/ckeditor.js"></script>

    <script>
        $(document).ready(function () {
            // Refresh cache
            CKEDITOR.timestamp = '@DateTime.Now.Ticks';

            var roxyFileman = '/fileman/index.html';

            CKEDITOR.replace('Html', {
                filebrowserBrowseUrl: roxyFileman,
                filebrowserImageBrowseUrl: roxyFileman + '?type=image',
                removeDialogTabs: 'link:upload;image:upload'
            });
        })
    </script>
}

